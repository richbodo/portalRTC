)]}'
{"version":3,"file":"/packages/zimme:iron-router-active.js","sources":["zimme:iron-router-active/client/helpers.coffee"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;WAAW,SAAC,IAAD,EAAO,OAAP;AACT;;IADgB,UAAU;GAC1B;SAAO,IAAP;AACA,MAAuB,OAAvB;WAAO,OAAO,KAAd;GADA;EAEA,OAAO,OAAO,QAAP,GAAkB,CAAC,CAAC,UAAF,CAAa,IAAb,CAFzB;SAIA,SAAC,IAAD;AACE;UAAO,gBAAgB,SAAS,CAAC,EAAjC;AACE,YAAU,UAAM,MAAE,IAAF,GAAQ,uCAAR,IACd,CAAC,UAAM,IAAN,GAAY,qCAAb,CADc,GAEd,MAAE,KAAI,CAAC,SAAL,CAAe,IAAf,EAAF,CAFQ,CAAV,CADF;;IAKA,UACE;iBAAW,KAAK,CAAC,QAAN,CAAe,MAAf,CAAX;MACA,OAAO,MADP;KANF;IASA,MAAM,IAAI,CAAC,IAAX,EAAiB,OAAjB,CATA;IAWA,aAAa,MAAM,CAAC,OAAP,EAXb;AAaA;aAAO,KAAP;KAbA;IAeA,OAAqB,IAAI,CAAC,IAA1B,EAAC,0BAAD,EAAY,kBAfZ;;MAiBA,YAAgB,OAAH,GAAgB,UAAhB,GAAgC;KAjB7C;AAmBA,QAAiB,SAAQ,MAAzB;eAAS,IAAT;KAnBA;IAqBA,OAAO,QAAQ,UAAR,EAAoB,KAApB,EAA2B,MAA3B,CArBP;AAuBA,QAAmB,OAAnB;aAAO,KAAP;KAvBA;AAyBA,QAAG,IAAH;aAAa,UAAb;;aAA4B,MAA5B;KA1BF;IALS;CAAX;;OAiCA,GAAU,SAAC,UAAD,EAAa,GAAb,EAAkB,MAAlB;AACR;;IAD0B,SAAS;GACnC;MAAG,MAAH;AACE,cAAU,UAAU,CAAC,QAAQ,CAAC,GAApB,EAAyB,CAAC,IAApC,CADF;;AAIE,sDAA0B,CAAE,OAAlB,WAAV,CAJF;;EAMA,KAAS,WAAO,GAAP,EAAY,GAAZ,CANT;SAQA,EAAE,CAAC,IAAH,CAAQ,OAAR,EATQ;CAjCV;;OA4CA,GACE;iBAAe,SAAS,OAAT,CAAf;EAEA,cAAc,SAAS,MAAT,CAFd;EAIA,kBAAkB,SAAS,OAAT,EAAkB,IAAlB,CAJlB;EAMA,iBAAiB,SAAS,MAAT,EAAiB,IAAjB,CANjB;CA7CF;;AAqDA;;;UAAQ,CAAC,cAAT,CAAwB,IAAxB,EAA8B,IAA9B;CArDA;A","sourcesContent":["isActive = (type, inverse = false) ->\n  name = 'is'\n  name = name + 'Not' if inverse\n  name = name + 'Active' + _.capitalize type\n\n  (view) ->\n    unless view instanceof Spacebars.kw\n      throw new Error \"#{name} options must be key value pair such \" +\n        \"as {{#{name} regex='route/path'}}. You passed: \" +\n        \"#{JSON.stringify view}\"\n\n    pattern =\n      className: Match.Optional String\n      regex: String\n\n    check view.hash, pattern\n\n    controller = Router.current()\n\n    return false unless controller\n\n    {className, regex} = view.hash\n\n    className ?= if inverse then 'disabled' else 'active'\n\n    isPath = true if type is 'path'\n\n    test = testExp controller, regex, isPath\n\n    test = not test if inverse\n\n    if test then className else false\n\ntestExp = (controller, exp, isPath = false) ->\n  if isPath\n    pattern = controller.location.get().path\n\n  else\n    pattern = controller.route?.getName()\n\n  re = new RegExp exp, 'i'\n\n  re.test pattern\n\nhelpers =\n  isActiveRoute: isActive 'route'\n\n  isActivePath: isActive 'path'\n\n  isNotActiveRoute: isActive 'route', true\n\n  isNotActivePath: isActive 'path', true\n\nTemplate.registerHelper name, func for own name, func of helpers\n"]}